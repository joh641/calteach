.container
  .header
    %h1 All Reservations
    = render "settings"

  .filter
    #filter-btn.btn.btn-default.btn-sm
      Show Filters
      %i.fa.fa-caret-down.caret-icon

  %table.table.sortable
    %thead
      %tr
        %th Name
        %th Item
        %th #
        %th Status
        %th Date Out
        %th Date In
        %th.sorttable_nosort Actions
    .body
      %tr#filter-section.hide
        = form_tag filter_admin_reservations_path, :method => :get do
          %td
            =text_field_tag :name, nil, :class => 'form-control'
          %td
            =text_field_tag :item, nil, :class => 'form-control'
          %td
          %td= select_tag :status, options_for_select(Reservation::STATUSES), :class => 'form-control'
          %td
            =text_field_tag :date_out, nil, :placeholder => "Between This Date", :class => "form-control"
          %td
            =text_field_tag :date_in, nil, :placeholder => "And This Date", :class => "form-control"
          %td
            = submit_tag 'Filter', :class => "btn btn-primary btn-sm"
      - @reservations.to_a.each do |reservation|
        - user = reservation.user
        %tr{:class => reservation.get_status.sub(" ", "_")}
          %td
            =user.name
            %a{:href => "mailto:" + user.email}
              %i.fa.fa-envelope-o.envelope-icon
          %td= link_to "#{reservation.item.name}", item_path(reservation.item)
          %td= reservation.quantity
          %td= reservation.get_status
          %td= date_out(reservation)
          %td= render "date_in", :reservation => reservation
          %td= render "actions", :reservation => reservation

